import time
from appium import webdriver
from selenium.webdriver.support.ui import WebDriverWait

# BrowserStack configuration
desired_caps = {
    # BrowserStack Credentials
    "browserstack.user": "fasa_hAS0f8",
    "browserstack.key": "jb9xTf3Hz6RpveKFpqqz",
    
    # Device Configuration
    "deviceName": "Samsung Galaxy S22 Ultra",
    "platformName": "android",
    "platformVersion": "12.0",
    
    # Project Configuration
    "project": "BrowserStack Samples",
    "build": "browserstack build",
    "name": "60_seconds_test"
}

def run_test():
    try:
        # Initialize the driver
        driver = webdriver.Remote(
            command_executor="http://hub.browserstack.com/wd/hub",
            desired_capabilities=desired_caps
        )
        
        print("Test started...")
        
        # Run for 60 seconds
        start_time = time.time()
        while (time.time() - start_time) < 60:
            # Simple action to keep session alive
            print(f"Test running... {int(time.time() - start_time)} seconds elapsed")
            time.sleep(5)  # Print status every 5 seconds
            
        print("Test completed after 60 seconds")
        
    except Exception as e:
        print(f"An error occurred: {str(e)}")
        
    finally:
        # Quit the driver
        if 'driver' in locals():
            driver.quit()

if __name__ == "__main__":
    run_test()
